# Source: https://github.com/Hats-Protocol/hats-index

[Hats-Protocol](https://github.com/Hats-Protocol)/ **[hats-index](https://github.com/Hats-Protocol/hats-index)** Public

- [Notifications](https://github.com/login?return_to=%2FHats-Protocol%2Fhats-index) You must be signed in to change notification settings
- [Fork\\
0](https://github.com/login?return_to=%2FHats-Protocol%2Fhats-index)
- [Star\\
0](https://github.com/login?return_to=%2FHats-Protocol%2Fhats-index)


[0\\
stars](https://github.com/Hats-Protocol/hats-index/stargazers) [0\\
forks](https://github.com/Hats-Protocol/hats-index/forks) [Branches](https://github.com/Hats-Protocol/hats-index/branches) [Tags](https://github.com/Hats-Protocol/hats-index/tags) [Activity](https://github.com/Hats-Protocol/hats-index/activity)

[Star](https://github.com/login?return_to=%2FHats-Protocol%2Fhats-index)

[Notifications](https://github.com/login?return_to=%2FHats-Protocol%2Fhats-index) You must be signed in to change notification settings

# Hats-Protocol/hats-index

main

[**1** Branch](https://github.com/Hats-Protocol/hats-index/branches) [**0** Tags](https://github.com/Hats-Protocol/hats-index/tags)

[Go to Branches page](https://github.com/Hats-Protocol/hats-index/branches)[Go to Tags page](https://github.com/Hats-Protocol/hats-index/tags)

Go to file

Code

Open more actions menu

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>[![scottrepreneur](https://avatars.githubusercontent.com/u/1778380?v=4&size=40)](https://github.com/scottrepreneur)[scottrepreneur](https://github.com/Hats-Protocol/hats-index/commits?author=scottrepreneur)<br>[fix table names](https://github.com/Hats-Protocol/hats-index/commit/9d9792836df1e0fcb40244966db30a3ac61c4460)<br>success<br>Jun 4, 2025<br>[9d97928](https://github.com/Hats-Protocol/hats-index/commit/9d9792836df1e0fcb40244966db30a3ac61c4460) · Jun 4, 2025<br>## History<br>[16 Commits](https://github.com/Hats-Protocol/hats-index/commits/main/) <br>Open commit details<br>[View commit history for this file.](https://github.com/Hats-Protocol/hats-index/commits/main/) |
| [packages](https://github.com/Hats-Protocol/hats-index/tree/main/packages "packages") | [packages](https://github.com/Hats-Protocol/hats-index/tree/main/packages "packages") | [fix table names](https://github.com/Hats-Protocol/hats-index/commit/9d9792836df1e0fcb40244966db30a3ac61c4460 "fix table names") | Jun 4, 2025 |
| [.gitignore](https://github.com/Hats-Protocol/hats-index/blob/main/.gitignore ".gitignore") | [.gitignore](https://github.com/Hats-Protocol/hats-index/blob/main/.gitignore ".gitignore") | [Initial scaffolding -- brings over from previous PoC repo](https://github.com/Hats-Protocol/hats-index/commit/2ad883742289f21500fa95394c6402802e897a2b "Initial scaffolding -- brings over from previous PoC repo") | May 8, 2025 |
| [.prettierrc](https://github.com/Hats-Protocol/hats-index/blob/main/.prettierrc ".prettierrc") | [.prettierrc](https://github.com/Hats-Protocol/hats-index/blob/main/.prettierrc ".prettierrc") | [tweaks](https://github.com/Hats-Protocol/hats-index/commit/87667a5b8bade228c323584153e335180230aab7 "tweaks") | Jun 4, 2025 |
| [README.md](https://github.com/Hats-Protocol/hats-index/blob/main/README.md "README.md") | [README.md](https://github.com/Hats-Protocol/hats-index/blob/main/README.md "README.md") | [Temporarily comments out baseSepolia config, updates README, adds env…](https://github.com/Hats-Protocol/hats-index/commit/b4068442cf7a98394358a3505ac9f29bb4956b45 "Temporarily comments out baseSepolia config, updates README, adds env.example") | May 8, 2025 |
| [eslint.config.js](https://github.com/Hats-Protocol/hats-index/blob/main/eslint.config.js "eslint.config.js") | [eslint.config.js](https://github.com/Hats-Protocol/hats-index/blob/main/eslint.config.js "eslint.config.js") | [handle trees, wearers](https://github.com/Hats-Protocol/hats-index/commit/a6164aeb193535451d31525a3f08187eb8251255 "handle trees, wearers") | May 25, 2025 |
| [package.json](https://github.com/Hats-Protocol/hats-index/blob/main/package.json "package.json") | [package.json](https://github.com/Hats-Protocol/hats-index/blob/main/package.json "package.json") | [tweaks](https://github.com/Hats-Protocol/hats-index/commit/87667a5b8bade228c323584153e335180230aab7 "tweaks") | Jun 4, 2025 |
| [pnpm-lock.yaml](https://github.com/Hats-Protocol/hats-index/blob/main/pnpm-lock.yaml "pnpm-lock.yaml") | [pnpm-lock.yaml](https://github.com/Hats-Protocol/hats-index/blob/main/pnpm-lock.yaml "pnpm-lock.yaml") | [tweaks](https://github.com/Hats-Protocol/hats-index/commit/87667a5b8bade228c323584153e335180230aab7 "tweaks") | Jun 4, 2025 |
| [pnpm-workspace.yaml](https://github.com/Hats-Protocol/hats-index/blob/main/pnpm-workspace.yaml "pnpm-workspace.yaml") | [pnpm-workspace.yaml](https://github.com/Hats-Protocol/hats-index/blob/main/pnpm-workspace.yaml "pnpm-workspace.yaml") | [Initial scaffolding -- brings over from previous PoC repo](https://github.com/Hats-Protocol/hats-index/commit/2ad883742289f21500fa95394c6402802e897a2b "Initial scaffolding -- brings over from previous PoC repo") | May 8, 2025 |
| [tsconfig.base.json](https://github.com/Hats-Protocol/hats-index/blob/main/tsconfig.base.json "tsconfig.base.json") | [tsconfig.base.json](https://github.com/Hats-Protocol/hats-index/blob/main/tsconfig.base.json "tsconfig.base.json") | [tweaks](https://github.com/Hats-Protocol/hats-index/commit/87667a5b8bade228c323584153e335180230aab7 "tweaks") | Jun 4, 2025 |
| View all files |

## Repository files navigation

# Hats Indexer

[Permalink: Hats Indexer](https://github.com/Hats-Protocol/hats-index#hats-indexer)

This project consists of a Hats Protocol indexing SDK built with [**Ponder**](https://ponder.sh/) and a consumer application that demonstrates how to consume the Hats Ponder SDK. The **consumer** package contains the environment variables for the RPC and also the Docker configuration. The **hats-ponder-sdk** package is where the indexing logic happens, which is exported and used in the **consumer**.
The project uses a monorepo structure managed with pnpm workspaces.

## Project Structure

[Permalink: Project Structure](https://github.com/Hats-Protocol/hats-index#project-structure)

```
hats-indexer/
├── packages/
│   ├── hats-ponder-sdk/    # Core indexing SDK for Hats Protocol
│   └── consumer/           # Example consumer application

```

## Prerequisites

[Permalink: Prerequisites](https://github.com/Hats-Protocol/hats-index#prerequisites)

- Node.js >= 18.14
- pnpm >= 8.0.0
- Docker and Docker Compose

## Installation

[Permalink: Installation](https://github.com/Hats-Protocol/hats-index#installation)

1. Clone the repository:



```
git clone <repository-url>
cd hats-indexer
```

2. Install dependencies:



```
pnpm install
```


## Building the SDK

[Permalink: Building the SDK](https://github.com/Hats-Protocol/hats-index#building-the-sdk)

To build the Hats Ponder SDK:

```
pnpm sdk:build

```

## Configuring the SDK

[Permalink: Configuring the SDK](https://github.com/Hats-Protocol/hats-index#configuring-the-sdk)

All of the Ponder configuration is managed in the `hats-ponder-sdk` package. The core configuration is in the `ponder.config.ts`. This exports the `createConfig` which is then used in the `consumer` package's `ponder.config.ts`. This enables a modular approach where our Ponder indexing configuration can be imported into other existing Ponder applications.

The schema and API files follow the same pattern. This is still experimental and we're working out the rough edges, but initial tests have demonstrated that this works.

### Multichain Support

[Permalink: Multichain Support](https://github.com/Hats-Protocol/hats-index#multichain-support)

Ponder provides powerful multichain support functionality. Our SDK follows the patterns outlined for use in Ponder versions `>0.10.x`. There were significant changes to Ponder's internal API outlined in the [Ponder Migration Guide](https://ponder.sh/docs/migration-guide).

### Start Blocks

[Permalink: Start Blocks](https://github.com/Hats-Protocol/hats-index#start-blocks)

While testing and developing, the start blocks are set to be rather recent. This is managed in the `ponder.config.ts` within the `hats-ponder-sdk` package. The `startBlock` can be set for each contract/chain independently.

## Initial Indexing

[Permalink: Initial Indexing](https://github.com/Hats-Protocol/hats-index#initial-indexing)

Ponder >0.10 relies on the `onChainTable` function for the core indexing. Since we're still actively developing and testing, the indexing logic focuses primarily on the `hat` table creation.

## Running the Consumer

[Permalink: Running the Consumer](https://github.com/Hats-Protocol/hats-index#running-the-consumer)

The consumer application can be run using Docker Compose for a consistent environment:

1. Set up environment variables:



```
# Copy the example environment file
cp packages/consumer/env.example packages/consumer/.env

# Edit the .env file with your specific values:
# Add your RPC URLs:
# - For Sepolia: Use an RPC provider like Infura, Alchemy, or your own node
# - For Base Sepolia: Use Base's public RPC or your preferred provider
```

2. Start the services:



```
# If running from the root directory:
docker-compose -f packages/consumer/docker/docker-compose.yml up -d

# If running in the `docker` directory:
cd packages/consumer/docker
docker-compose up -d
```


To run the consumer in development mode:

```
pnpm consumer:dev
```

## Development

[Permalink: Development](https://github.com/Hats-Protocol/hats-index#development)

- The SDK ( `packages/hats-ponder-sdk`) provides the core indexing functionality for the Hats Protocol
- The consumer ( `packages/consumer`) demonstrates how to use the SDK in a real application

## Scripts

[Permalink: Scripts](https://github.com/Hats-Protocol/hats-index#scripts)

- `pnpm sdk:build`: Build the SDK
- `pnpm consumer:dev`: Run the **consumer** in development mode

## About

No description, website, or topics provided.


### Resources

[Readme](https://github.com/Hats-Protocol/hats-index#readme-ov-file)

[Activity](https://github.com/Hats-Protocol/hats-index/activity)

[Custom properties](https://github.com/Hats-Protocol/hats-index/custom-properties)

### Stars

[**0**\\
stars](https://github.com/Hats-Protocol/hats-index/stargazers)

### Watchers

[**3**\\
watching](https://github.com/Hats-Protocol/hats-index/watchers)

### Forks

[**0**\\
forks](https://github.com/Hats-Protocol/hats-index/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FHats-Protocol%2Fhats-index&report=Hats-Protocol+%28user%29)

## [Releases](https://github.com/Hats-Protocol/hats-index/releases)

No releases published

## [Packages](https://github.com/orgs/Hats-Protocol/packages?repo_name=hats-index)

No packages published

## [Contributors\  2](https://github.com/Hats-Protocol/hats-index/graphs/contributors)

- [![@scottrepreneur](https://avatars.githubusercontent.com/u/1778380?s=64&v=4)](https://github.com/scottrepreneur)[**scottrepreneur**](https://github.com/scottrepreneur)
- [![@jonathanprozzi](https://avatars.githubusercontent.com/u/9438776?s=64&v=4)](https://github.com/jonathanprozzi)[**jonathanprozzi** jp](https://github.com/jonathanprozzi)

## Languages

- [TypeScript99.3%](https://github.com/Hats-Protocol/hats-index/search?l=typescript)
- [JavaScript0.7%](https://github.com/Hats-Protocol/hats-index/search?l=javascript)
